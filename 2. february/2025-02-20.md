# 🔓 4주차 과제 & API 수업

## 날짜: 2025-02-20 📅

### 스크럼 🏁
- 2단위기간 시작!

### 새로 배운 내용 📚
## **1️⃣ 데이터 전처리 과정에서 새롭게 알게 된 점**  

### ✅ **효율적인 결측값 처리 방법**
처음에는 국어, 영어, 수학, 과학 각 과목의 결측값을 개별적으로 처리했지만, 반복되는 코드가 비효율적이라고 판단함.  
이를 해결하기 위해 **`apply()` 함수**를 사용하면 한 줄의 코드로 모든 과목의 결측값을 처리할 수 있다는 점을 알게 됨.  

### 🔹 **axis=0의 의미**  
- `axis=0` → **열(컬럼) 단위**로 연산을 적용  
- `axis=1` → **행(로우) 단위**로 연산을 적용  
즉, **`axis=0`**을 사용하면 각 과목(열)별로 평균을 계산하여 결측값을 채울 수 있음.  

### 🔹 **`apply()` 함수의 활용**  
- `apply()`를 사용하면 여러 컬럼에 동일한 연산을 적용할 수 있음.  
- `lambda` 함수를 이용해 `fillna(x.mean())`을 적용하면 **각 과목별 평균값으로 결측값을 채울 수 있음**.  

---

## **2️⃣ 이상치 제거 과정에서 어려웠던 점**  

처음에는 이상치를 제거할 때 `df[df[cols] > 0]` 형태로 적용했는데, 이 방식이 오류를 발생시킴.  
이유를 찾아보니, `df[cols] > 0`이 **Boolean DataFrame을 반환**하기 때문에 `df[]`로 필터링할 때 NaN이 발생했음.  

### ✅ **잘 되는 코드 (`df = df[df['연봉'] > 0]`)**  
✔ `df['연봉'] > 0` → **Boolean Series 반환**  
✔ `df[]`에 적용하면 **조건을 만족하는 행만 남김**  
✔ 다른 컬럼(`직원`, `근속연수`)에는 영향을 주지 않음  

### ❌ **문제가 됐던 코드 (`df = df[df[cols] > 0]`)**  
✖ `df[cols] > 0` → **Boolean DataFrame 반환**  
✖ `df[]`에 적용하면 **각 값이 `True`인 곳만 남기고 나머지는 NaN 처리됨**  
✖ `NaN`이 발생하면서 `학번`이나 `이름`도 손실됨  

이를 통해, **Boolean Series를 활용한 필터링이 더 적절하다는 점을 깨달음.**  

---

## **3️⃣ FastAPI를 활용한 API 서버 구축 중 새롭게 배운 점**  

- **Ngrok을 활용하면 로컬 서버를 퍼블릭 도메인으로 변환할 수 있음**, 외부에서도 API 요청을 보낼 수 있음.  

### ✅ **API 서버의 역할**  
- 서버의 기능을 **외부에서 사용할 수 있도록 노출**  
- 클라이언트(웹, 앱)와 데이터를 **주고받는 인터페이스 제공**  

---

### ✅ **Ngrok을 활용한 API 퍼블리싱**  
- **Ngrok을 이용해 로컬 서버를 외부에서 접근 가능하도록 설정**  
- API를 배포하지 않아도 **공개 URL을 생성하여 테스트 가능**  
- **Ngrok을 활용하면 로컬 서버를 퍼블릭 도메인으로 변환할 수 있음**, 외부에서도 API 요청을 보낼 수 있음.  

### 오늘의 회고 📝
- 과제 3번 보완이 필요하며, 4,5번 진행예정이다.

### 참고 자료 및 링크 🔗
- [ai-api-server-anna](https://github.com/sunnyanna0/ai-api-server)

**Server 실행**
```bash
fastapi dev main.py
```

- [FastAPI](https://fastapi.tiangolo.com/ko/#_6)